
    // Function to calculate and update the subtotal
    function updateSubtotal() {
        const checkboxes = document.querySelectorAll('.cart-checkbox');
        let subtotal = 0;
        let itemCount = 0;

        checkboxes.forEach((checkbox) => {
            if (checkbox.checked) {
                const price = parseFloat(checkbox.getAttribute('data-price'));
                const quantityInput = checkbox.closest('.cart-item').querySelector('.quantity-input');
                const quantity = parseInt(quantityInput.value) || 1;
                subtotal += price * quantity;
                itemCount += 1;
            }
        });

        // Update the subtotal and item count in the HTML
        document.getElementById('subtotal').textContent = subtotal.toFixed(2);
        document.getElementById('selected-items-count').textContent = itemCount;
    }

    // Attach event listeners to checkboxes
    document.querySelectorAll('.cart-checkbox').forEach((checkbox) => {
        checkbox.addEventListener('change', updateSubtotal);
    });

    // Attach event listeners to quantity buttons
    document.querySelectorAll('.quantity-btn').forEach((button) => {
        button.addEventListener('click', function() {
            const input = this.parentElement.querySelector('.quantity-input');
            let currentQuantity = parseInt(input.value) || 1;

            if (this.textContent === "+") {
                currentQuantity++;
            } else if (this.textContent === "-" && currentQuantity > 1) {
                currentQuantity--;
            }

            input.value = currentQuantity;
            updateSubtotal();
        });
    });
